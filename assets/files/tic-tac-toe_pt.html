<!DOCTYPE html>
<html lang="pt_BR">
	<head>
		<meta charset="utf-8"/>
		<meta name="author" content="Lucas Rafael"/>

		<style type="text/css">
			body {
				text-align: center;
				padding: 0;
				margin: 0;
				box-sizing: border-box;
			}

			button {
				border: none;
				font-size: 1em;
			}

			button:hover {
				cursor: pointer;
			}

			table {
				margin: 0 auto;
				border-collapse: collapse;
			}

			table td {
				border-bottom: 3px #000 solid;
				border-right: 3px #000 solid;
			}

			table td:nth-child(3) {
				border-right: none;
			}

			table tr:nth-child(3) td {
				border-bottom: none;
			}
		</style>

		<script type="text/javascript">
			let turn = 0;
			let positions = [
				["+", "+", "+"],
				["+", "+", "+"],
				["+", "+", "+"]
			];

			function disableButtons() {
				document.querySelectorAll("button").forEach(btn => btn.disabled = true);
			}

			function position(x, y) {
				if (turn % 2 == 0) {
					document.getElementById(`${x}.${y}`).innerHTML = "O";
					document.getElementById(`${x}.${y}`).style = "background-color: #FF0000; padding: 3em; font-weight: bold; color: #FFFFFF";
					positions[x][y] = "O";
					turn++;

					// disable button on indicated position
					document.getElementById(`${x}.${y}`).disabled = true;
				} else {
					document.getElementById(`${x}.${y}`).innerHTML = "X";
					document.getElementById(`${x}.${y}`).style = "background-color: #00FF00; padding: 3em; font-weight: bold; color: #000000";
					positions[x][y] = "X";
					turn++;

					// disable button on indicated position
					document.getElementById(`${x}.${y}`).disabled = true;
				}


				// check horizontal
				for (let h = 0; h < positions.length; h++) {
					if (positions[h][0] == "O" && positions[h][1] == "O" && positions[h][2] == "O") {
						document.querySelector("#resp").innerHTML = "O JOGADOR 1 VENCEU O JOGO!";
						disableButtons();
					}

					if (positions[h][0] == "X" && positions[h][1] == "X" && positions[h][2] == "X") {
						document.querySelector("#resp").innerHTML = "O JOGADOR 2 VENCEU O JOGO!";
						disableButtons();
					}
				}


				// check vertical
				for (let v = 0; v < positions.length; v++) {
					if (positions[0][v] == "O" && positions[1][v] == "O" && positions[2][v] == "O") {
						document.querySelector("#resp").innerHTML = "O JOGADOR 1 VENCEU O JOGO!";
						disableButtons();
					}

					if (positions[0][v] == "X" && positions[1][v] == "X" && positions[2][v] == "X") {
						document.querySelector("#resp").innerHTML = "O JOGADOR 2 VENCEU O JOGO!";
						disableButtons();
					}
				}


				// check diagonal
				if (positions[0][0] == "O" && positions[1][1] == "O" && positions[2][2] == "O") {
					document.querySelector("#resp").innerHTML = "O JOGADOR 1 VENCEU O JOGO!";
					disableButtons();
				}

				if (positions[0][0] == "X" && positions[1][1] == "X" && positions[2][2] == "X") {
					document.querySelector("#resp").innerHTML = "O JOGADOR 2 VENCEU O JOGO!";
					disableButtons();
				}

				if (positions[0][2] == "O" && positions[1][1] == "O" && positions[2][0] == "O") {
					document.querySelector("#resp").innerHTML = "O JOGADOR 1 VENCEU O JOGO!";
					disableButtons();
				}

				if (positions[0][2] == "X" && positions[1][1] == "X" && positions[2][0] == "X") {
					document.querySelector("#resp").innerHTML = "O JOGADOR 2 VENCEU O JOGO!";
					disableButtons();
				}


				// check draw
				if (turn == 9) {
					document.querySelector("#resp").innerHTML = "EMPATE!";
					disableButtons();
				}
			}
		</script>

		<title>Jogo da Velha (em JavaScript)</title>
	</head>

	<body>
		<main>
			<h1>Jogo da Velha (em JavaScript)</h1>

			<p>
				<strong>Jogador 1 - </strong>O
				<br/>
				<strong>Jogador 2 - </strong>X
			</p>

			<p id="resp"></p>

			<table>
				<tr>
					<td>
						<button style="padding: 3em;" id="0.0" onclick="position(0,0);">+</button>
					</td>
					<td>
						<button style="padding: 3em;" id="0.1" onclick="position(0,1);">+</button>
					</td>
					<td>
						<button style="padding: 3em;" id="0.2" onclick="position(0,2);">+</button>
					</td>
				</tr>

				<tr>
					<td>
						<button style="padding: 3em;" id="1.0" onclick="position(1,0);">+</button>
					</td>
					<td>
						<button style="padding: 3em;" id="1.1" onclick="position(1,1);">+</button>
					</td>
					<td>
						<button style="padding: 3em;" id="1.2" onclick="position(1,2);">+</button>
					</td>
				</tr>

				<tr>
					<td>
						<button style="padding: 3em;" id="2.0" onclick="position(2,0);">+</button>
					</td>
					<td>
						<button style="padding: 3em;" id="2.1" onclick="position(2,1);">+</button>
					</td>
					<td>
						<button style="padding: 3em;" id="2.2" onclick="position(2,2);">+</button>
					</td>
				</tr>
			</table>
		</main>
	</body>
</html>